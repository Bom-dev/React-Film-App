{"ast":null,"code":"import _classCallCheck from \"/Users/bom/sei/Week5/homework/React-Film-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bom/sei/Week5/homework/React-Film-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/bom/sei/Week5/homework/React-Film-App/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/bom/sei/Week5/homework/React-Film-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/bom/sei/Week5/homework/React-Film-App/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/bom/sei/Week5/homework/React-Film-App/src/components/App.js\";\nimport React, { Component } from \"react\";\nimport TMDB from \"../TMDB.js\";\nimport FilmListing from \"./FilmListing.js\";\nimport FilmDetails from \"./FilmDetails.js\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.handleFaveToggle = _this.handleFaveToggle.bind(_assertThisInitialized(_this));\n    _this.handleDetailsClick = _this.handleDetailsClick.bind(_assertThisInitialized(_this));\n    _this.state = {\n      films: TMDB.films,\n      faves: [],\n      current: {}\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleFaveToggle\",\n    value: function handleFaveToggle(film) {\n      var faves = this.state.faves.slice();\n      var filmIndex = faves.indexOf(film);\n\n      if (filmIndex > -1) {\n        faves.splice(filmIndex, 1);\n      } else {\n        faves.push(film);\n      }\n\n      this.setState({\n        faves: faves\n      });\n    }\n  }, {\n    key: \"handleDetailsClick\",\n    value: function handleDetailsClick(film) {\n      var _this2 = this;\n\n      var url = \"https://api.themoviedb.org/3/movie/\".concat(film.id, \"?api_key=\").concat(TMDB.api_key, \"&append_to_response=videos,images&language=en\");\n      fetch(url).then(function (response) {\n        response.json().then(function (data) {\n          _this2.setState({\n            current: data\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"film-library\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(FilmListing, {\n        films: this.state.films,\n        faves: this.state.faves,\n        onFaveToggle: this.handleFaveToggle,\n        onDetailsClick: this.handleDetailsClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(FilmDetails, {\n        film: this.state.current,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"names":["React","Component","TMDB","FilmListing","FilmDetails","App","props","handleFaveToggle","bind","handleDetailsClick","state","films","faves","current","film","slice","filmIndex","indexOf","splice","push","setState","url","id","api_key","fetch","then","response","json","data"],"sources":["/Users/bom/sei/Week5/homework/React-Film-App/src/components/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport TMDB from \"../TMDB.js\";\nimport FilmListing from \"./FilmListing.js\";\nimport FilmDetails from \"./FilmDetails.js\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFaveToggle = this.handleFaveToggle.bind(this);\n    this.handleDetailsClick = this.handleDetailsClick.bind(this);\n    this.state = {\n      films: TMDB.films,\n      faves: [],\n      current: {}\n    };\n  }\n\n  handleFaveToggle(film) {\n    const faves = this.state.faves.slice();\n    const filmIndex = faves.indexOf(film);\n    if (filmIndex > -1) {\n      faves.splice(filmIndex, 1);\n    } else {\n      faves.push(film);\n    }\n    this.setState({\n      faves\n    });\n  }\n\n  handleDetailsClick(film) {\n    const url = `https://api.themoviedb.org/3/movie/${film.id}?api_key=${TMDB.api_key}&append_to_response=videos,images&language=en`;\n    fetch(url)\n    \n    .then((response) => {\n      response.json()\n      .then((data) => {\n        this.setState({\n          current: data\n        });\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"film-library\">\n        <FilmListing\n          films={this.state.films}\n          faves={this.state.faves}\n          onFaveToggle={this.handleFaveToggle}\n          onDetailsClick={this.handleDetailsClick}\n        />\n        <FilmDetails film={this.state.current} />\n      </div>\n    );\n  }\n}\nexport default App;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;;IAEMC,G;;;;;EACJ,aAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;IACA,MAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB;IACA,MAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,+BAA1B;IACA,MAAKE,KAAL,GAAa;MACXC,KAAK,EAAET,IAAI,CAACS,KADD;MAEXC,KAAK,EAAE,EAFI;MAGXC,OAAO,EAAE;IAHE,CAAb;IAJiB;EASlB;;;;WAED,0BAAiBC,IAAjB,EAAuB;MACrB,IAAMF,KAAK,GAAG,KAAKF,KAAL,CAAWE,KAAX,CAAiBG,KAAjB,EAAd;MACA,IAAMC,SAAS,GAAGJ,KAAK,CAACK,OAAN,CAAcH,IAAd,CAAlB;;MACA,IAAIE,SAAS,GAAG,CAAC,CAAjB,EAAoB;QAClBJ,KAAK,CAACM,MAAN,CAAaF,SAAb,EAAwB,CAAxB;MACD,CAFD,MAEO;QACLJ,KAAK,CAACO,IAAN,CAAWL,IAAX;MACD;;MACD,KAAKM,QAAL,CAAc;QACZR,KAAK,EAALA;MADY,CAAd;IAGD;;;WAED,4BAAmBE,IAAnB,EAAyB;MAAA;;MACvB,IAAMO,GAAG,gDAAyCP,IAAI,CAACQ,EAA9C,sBAA4DpB,IAAI,CAACqB,OAAjE,kDAAT;MACAC,KAAK,CAACH,GAAD,CAAL,CAECI,IAFD,CAEM,UAACC,QAAD,EAAc;QAClBA,QAAQ,CAACC,IAAT,GACCF,IADD,CACM,UAACG,IAAD,EAAU;UACd,MAAI,CAACR,QAAL,CAAc;YACZP,OAAO,EAAEe;UADG,CAAd;QAGD,CALD;MAMD,CATD;IAUD;;;WAED,kBAAS;MACP,oBACE;QAAK,SAAS,EAAC,cAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE,oBAAC,WAAD;QACE,KAAK,EAAE,KAAKlB,KAAL,CAAWC,KADpB;QAEE,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAFpB;QAGE,YAAY,EAAE,KAAKL,gBAHrB;QAIE,cAAc,EAAE,KAAKE,kBAJvB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF,eAOE,oBAAC,WAAD;QAAa,IAAI,EAAE,KAAKC,KAAL,CAAWG,OAA9B;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAPF,CADF;IAWD;;;;EAnDeZ,S;;AAqDlB,eAAeI,GAAf"},"metadata":{},"sourceType":"module"}